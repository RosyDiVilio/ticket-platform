<!DOCTYPE html>
<html lang="en">
<head th:insert="~{fragments/fragments :: head}">
  
</head>
<body>
	<header th:insert="~{fragments/navbar :: navbar(tickets)}"></header>
	
	<div class="container">
		<div class="row">
			<div class="col">
				<th:block th:if="${note.size() > 0}">
					
				    <h1 class="mb-5 mt-4 text-center">Lista delle note</h1>
					
					<th:block th:if="${successMessage != null}">
						<div th:replace="~{fragments/fragments :: successAlert(${successMessage})}"></div>
				    </th:block>
					
					<table class="table table-hover">
					  <thead>
						<tr>
						  <th scope="col">ID</th>
						  <th scope="col">Autore</th>
						  <th scope="col">Testo</th>
						  <th scope="col">Data Creazione</th>
						</tr>
					  </thead>
					  <tbody>
						<tr th:each="note : ${note}">
						  <td th:text="${note.id}"></td>
						  <td th:text="${note.user.username}"></td>
						  <td th:text="${note.text}"></td>
						  <td th:text="${note.getFormattedNoteCreatedAt()}"></td>
						</tr>
						<div class="d-flex justify-content-between">
							<a th:href="@{/tickets}" class="btn btn-primary mb-4">Indietro</a>
						</div>
					  </tbody>
					</table>
				</th:block>
			
			    <th:block th:unless="${note.size() > 0}">
				    <h3 class="my-5 text-center">Non ci sono note</h3>
		        </th:block>
			
			</div>
        </div>
    </div>
	
	<th:block th:replace="~{fragments/fragments :: scripts}"></th:block>
</body>
</html>