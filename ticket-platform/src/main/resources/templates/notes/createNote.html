<!DOCTYPE html>
<html lang="en">

<head th:insert="~{fragments/fragments :: head}">

</head>

<body>
	<header th:insert="~{fragments/navbar :: navbar(create)}"></header>

	<div class="container">
				<div class="row justify-content-center">
					<div class="col-6">

						<form id="note-form" 
						      th:object="${note}" 
						      th:action="@{/notes/createNote/{ticketId}(ticketId=${ticket.id})}" 
						      method="POST">

						    <h2 class="my-4 text-center">Nota</h2>
						    <input type="hidden" th:field="*{ticket.id}"/>
							<input type="hidden" th:field="*{user.id}"/>
	<!--					    <div class="mb-4">
						        <label for="user" class="form-label fw-semibold">ID Autore</label>
						        <input type="text" class="form-control" id="user" th:field="*{user.id}"
								 readonly="readonly" th:value="*{user.id}">
						    </div>
							
							<div class="mb-4">
								<label for="user" class="form-label fw-semibold">Nome Autore</label>
								<input type="text" class="form-control" id="user" th:field="*{user.username}"
									readonly="readonly" th:value="*{user.username}">
							</div>
							
							<div class="mb-4">
								<label for="ticket" class="form-label fw-semibold">ID Ticket</label>
								<input type="text" class="form-control" id="ticket" th:field="${ticket.id}"
									readonly="readonly" th:value="${ticket.id}">
							</div>

							<div class="mb-4">
								<label for="ticket" class="form-label fw-semibold">Titolo Ticket</label>
								<input type="text" class="form-control" id="ticket" th:field="${ticket.title}"
									readonly="readonly" th:value="${ticket.title}">
							</div>
	-->					    
						    <div class="mb-4">
						        <label for="text" class="form-label fw-semibold">Scrivi nota</label>
						        <input type="text" class="form-control" id="text" th:field="*{text}" th:errorClass="is-invalid">
						    
						        <div th:if="${#fields.hasErrors('text')}" class="invalid-feedback">
						            <ul>
						                <li th:each="err : ${#fields.errors('text')}" th:text="${err}"></li>
						            </ul>
						        </div>
						    </div>
						    
						    <div class="d-flex justify-content-between mt-4">
						        <input type="reset" class="btn btn-warning mb-4" value="Resetta">
						        <input type="submit" class="btn btn-primary mb-4" value="Crea nota">
						    </div>
						</form>
					</div>
				</div>
			</div>

	<th:block th:replace="~{fragments/fragments :: scripts}"></th:block>
</body>

</html>